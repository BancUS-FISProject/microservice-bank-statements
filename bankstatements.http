
# Pruebas para endpoints de Bank Statements (REST Client)
# Casos principales del router (incluye bÃºsqueda por IBAN+mes)

### 1) Obtener meses disponibles por cuenta (GET)
GET http://localhost:3000/v1/bankstatements/by-account/19000
Accept: application/json

### 2) Obtener detalle de un statement por id (GET)
GET http://localhost:3000/v1/bankstatements/6943094a20e1c401710b75b4
Accept: application/json

### 3) Obtener statement por IBAN y mes (GET)
GET http://localhost:3000/v1/bankstatements/by-iban?iban=ES8889183678889183671000&month=2025-09
Accept: application/json

### 4) Generar statement (POST) -> single (body) o bulk (sin body)
POST http://localhost:3000/v1/bankstatements/generate
Accept: application/json
Content-Type: application/json

{
  "accountId": "101",
  "month": "2025-12",
  "transactions": [
    { "sender": "x", "receiver": "101", "amount": 200.0, "currency": "USD", "gmt_time": "2025-12-05T12:00:00Z" }
  ]
}

### 5) Eliminar por identificador (DELETE) -> body: id OR accountId+month OR accountName+month
DELETE http://localhost:3000/v1/bankstatements/by-identifier
Accept: application/json
Content-Type: application/json

{
  "accountId": "101",
  "month": "2025-12"
}

### 6) Reemplazar lista de statements de una cuenta (PUT)
PUT http://localhost:3000/v1/bankstatements/account/101/statements
Accept: application/json
Content-Type: application/json

[
  {
    "account": { "iban": "ES1200000000000000000000", "name": "Cuenta Prueba", "email": "test@example.com" },
    "date_start": "2025-12-01T00:00:00.000Z",
    "date_end": "2025-12-31T23:59:59.999Z",
    "transactions": [
      { "date": "2025-12-05T12:00:00.000Z", "amount": 100.5, "currency": "USD", "description": "Ingreso prueba" }
    ],
    "total_incoming": 100.5,
    "total_outgoing": 0,
    "year": 2025,
    "month": 12
  }
]

### 7) Eliminar un estado de cuenta por id (DELETE)

DELETE http://localhost:3000/v1/bankstatements/6943094020e1c401710b75a8

### 1) Obtener meses disponibles por cuenta (GET)
GET http://localhost:3000/health
Accept: application/json

